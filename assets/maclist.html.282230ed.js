import{_ as n,o as s,c as a,e as t}from"./app.6da7124e.js";const p={},o=t(`<h1 id="mac-\u8BBE\u7F6E\u5F00\u673A\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#mac-\u8BBE\u7F6E\u5F00\u673A\u542F\u52A8" aria-hidden="true">#</a> Mac \u8BBE\u7F6E\u5F00\u673A\u542F\u52A8</h1><p>launchd \u662F Mac OS \u4E0B\u7528\u4E8E\u521D\u59CB\u5316\u7CFB\u7EDF\u73AF\u5883\u7684\u5173\u952E\u8FDB\u7A0B\uFF0C\u5B83\u662F\u5185\u6838\u88C5\u8F7D\u6210\u529F\u4E4B\u540E\u5728 OS \u73AF\u5883\u4E0B\u542F\u52A8\u7684\u7B2C\u4E00\u4E2A\u8FDB\u7A0B\uFF0C\u53EF\u4EE5\u7528\u6765\u63A7\u5236\u670D\u52A1\u7684\u81EA\u52A8\u542F\u52A8\u6216\u8005\u5173\u95ED\u3002</p><p>\u5B83\u7684\u4F5C\u7528\u5C31\u662F\u6211\u4EEC\u5E73\u65F6\u8BF4\u7684\u5B88\u62A4\u8FDB\u7A0B\uFF0C\u7B80\u5355\u6765\u8BF4\uFF0C\u7528\u6237\u5B88\u62A4\u8FDB\u7A0B\u662F\u4F5C\u4E3A\u7CFB\u7EDF\u7684\u4E00\u90E8\u5206\u8FD0\u884C\u5728\u540E\u53F0\u7684\u975E\u56FE\u5F62\u5316\u7A0B\u5E8F\u3002</p><p>\u91C7\u7528\u8FD9\u79CD\u65B9\u5F0F\u6765\u914D\u7F6E\u81EA\u542F\u52A8\u9879\u5F88\u7B80\u5355\uFF0C\u53EA\u9700\u8981\u4E00\u4E2A plist \u6587\u4EF6\uFF0C\u8BE5\u6587\u4EF6\u5B58\u5728\u7684\u76EE\u5F55\u6709\uFF1A</p><p>\u7528\u6237\u767B\u9646\u524D LaunchDaemons\uFF1A</p><p>~/Library/LaunchDaemons</p><p>\u7528\u6237\u767B\u5F55\u540E LaunchAgents\uFF1A</p><p>~/Library/LaunchAgents</p><h2 id="\u521B\u5EFA-plist-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-plist-\u6587\u4EF6" aria-hidden="true">#</a> \u521B\u5EFA plist \u6587\u4EF6</h2><p>\u6211\u4EEC\u53EF\u4EE5\u5199\u4E00\u4E2A plist \u6587\u4EF6\u653E\u5230 <code>~/Library/LaunchAgents</code> \u4E0B\u9762\uFF0C\u6587\u4EF6\u91CC\u63CF\u8FF0\u7A0B\u5E8F\u8DEF\u5F84\u548C\u542F\u52A8\u53C2\u6570\uFF0C\u5F53\u6211\u4EEC\u767B\u5F55\u7535\u8111\u65F6\u5C31\u4F1A\u542F\u52A8\u8FD9\u4E2A\u7A0B\u5E8F\u4E86\uFF0C\u800C\u4E14\u662F\u6740\u4E0D\u4E86\u7684\uFF0C\u88AB\u6740\u4E86\u4E4B\u540E\u4F1A\u81EA\u52A8\u91CD\u65B0\u542F\u52A8\u3002</p><p>\u4E0B\u9762\u6211\u4EEC\u4EE5 mongodb \u4E3A\u4F8B\uFF0C\u6F14\u793A\u4E0B\u5168\u8FC7\u7A0B\u3002</p><ol><li>\u9996\u5148\u521B\u5EFA\u4E00\u4E2A .plist \u6587\u4EF6\uFF1A</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/Library/LaunchAgents <span class="token operator">&amp;&amp;</span> <span class="token function">ls</span> <span class="token comment"># \u8FDB\u5165\u5230\u76EE\u5F55</span>

<span class="token function">touch</span> org.mongodb.mongod.plist <span class="token comment"># \u521B\u5EFA plist \u6587\u4EF6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u590D\u5236\u4EE5\u4E0B\u5185\u5BB9</li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">plist</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span><span class="token string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plist</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>KeepAlive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>SuccessfulExit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>false</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>Label<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>org.mongodb.mongod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>ProgramArguments<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>/usr/local/mongodb/bin/mongod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>run<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>--config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>/usr/local/etc/mongod.conf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>RunAtLoad<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>true</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>WorkingDirectory<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>/usr/local/var/mongodb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>StandardErrorPath<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>/usr/local/var/log/mongodb/error.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>StandardOutPath<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>/usr/local/var/log/mongodb/mongo.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plist</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u4FEE\u6539\u7A0B\u5E8F\u8DEF\u5F84\u548C\u542F\u52A8\u53C2\u6570</li></ol><p>\u7C98\u8D34\u521A\u624D\u590D\u5236\u7684\u5185\u5BB9\u5230 org.mongodb.mongod.plist \u6587\u4EF6\u4E2D\uFF0C\u7136\u540E\u6839\u636E\u4F60\u81EA\u5DF1\u7684\u5B9E\u9645\u60C5\u51B5\u5BF9\u4E0A\u9762\u7684\u5185\u5BB9\u505A\u4FEE\u6539\uFF1A</p><ul><li><p>mongod \u5B89\u88C5\u8DEF\u5F84 <code>/usr/local/mongodb/bin/mongod</code> \u53EF\u4EE5\u4F7F\u7528 <code>which mongodb</code> \u547D\u4EE4\u67E5\u770B\u5177\u4F53\u7684\u8DEF\u5F84</p></li><li><p>mongod \u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84 <code>/usr/local/etc/mongod.conf</code> \u5982\u679C\u6CA1\u6709\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u5C31\u628A\u8FD9\u4E2A\u5220\u9664</p></li><li><p>mongodb \u5DE5\u4F5C\u76EE\u5F55 <code>/usr/local/var/mongodb</code></p></li><li><p>StandardErrorPath \u9519\u8BEF\u65E5\u5FD7\u8F93\u51FA\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u5728 mongod \u914D\u7F6E\u6587\u4EF6\u4E2D\u627E\u5230</p></li><li><p>StandardOutPath \u4FE1\u606F\u65E5\u5FD7\u8F93\u51FA\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u5728 mongod \u914D\u7F6E\u6587\u4EF6\u4E2D\u627E\u5230</p></li></ul><h2 id="\u8F7D\u5165-plist-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u8F7D\u5165-plist-\u6587\u4EF6" aria-hidden="true">#</a> \u8F7D\u5165 plist \u6587\u4EF6</h2><p>\u7F16\u8F91\u5B8C plist \u6587\u4EF6\u4EE5\u540E\uFF0C\u6211\u4EEC\u9700\u8981\u5C06\u8BE5\u6587\u4EF6\u8F7D\u5165\u5230 launchd \u91CC\uFF0C\u4F7F\u7528 launchctl \u547D\u4EE4\uFF0C\u5177\u4F53\u547D\u4EE4\u5982\u4E0B\uFF1A</p><p>\u4F7F\u7528 launchctl \u542F\u52A8 mongodb</p><p><code>launchctl load -w ~/Library/LaunchAgents/org.mongodb.mongod.plist</code></p><p>\u505C\u6B62 mongodb \u7684\u81EA\u542F\u52A8</p><p><code>launchctl unload -w ~/Library/LaunchAgents/org.mongodb.mongod.plist</code></p><h2 id="\u8BBE\u7F6E\u522B\u540D" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u522B\u540D" aria-hidden="true">#</a> \u8BBE\u7F6E\u522B\u540D</h2><p>\u4E3A\u4E86\u4F7F\u7528\u65B9\u4FBF\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7ED9 mongodb \u7684\u5F00\u542F\u548C\u5173\u95ED\u547D\u4EE4\u8BBE\u7F6E\u522B\u540D\uFF1A</p><p><code>vim ~/.bash_profile # \u5F80\u914D\u7F6E\u6587\u4EF6\u4E2D\u5199\u5165\u5168\u5C40\u53D8\u91CF</code></p><div class="language-vim ext-vim line-numbers-mode"><pre class="language-vim"><code># mongod \u542F\u52A8\u3001\u505C\u6B62\u3001\u91CD\u542F\u522B\u540D
alias mongod<span class="token operator">.</span>start<span class="token operator">=</span><span class="token string">&#39;launchctl load -w ~/Library/LaunchAgents/org.mongodb.mongod.plist&#39;</span>
alias mongod<span class="token operator">.</span><span class="token keyword">stop</span><span class="token operator">=</span><span class="token string">&#39;launchctl unload -w ~/Library/LaunchAgents/org.mongodb.mongod.plist&#39;</span>
alias mongod<span class="token operator">.</span>restart<span class="token operator">=</span><span class="token string">&#39;mongod.stop &amp;&amp; mongod.start&#39;</span>

# redis \u542F\u52A8\u3001\u505C\u6B62\u3001\u91CD\u542F\u522B\u540D
alias redis<span class="token operator">.</span>start<span class="token operator">=</span><span class="token string">&#39;launchctl load -w ~/Library/LaunchAgents/org.redis.plist&#39;</span>
alias redis<span class="token operator">.</span><span class="token keyword">stop</span><span class="token operator">=</span><span class="token string">&#39;launchctl unload -w ~/Library/LaunchAgents/org.redis.plist&#39;</span>
alias redis<span class="token operator">.</span>restart<span class="token operator">=</span><span class="token string">&#39;redis.stop &amp;&amp; redis.start&#39;</span>

# nginx \u542F\u52A8\u3001\u505C\u6B62\u3001\u91CD\u542F\u522B\u540D
alias nginx<span class="token operator">.</span>start<span class="token operator">=</span><span class="token string">&#39;launchctl load -w ~/Library/LaunchAgents/org.nginx.plist&#39;</span>
alias nginx<span class="token operator">.</span><span class="token keyword">stop</span><span class="token operator">=</span><span class="token string">&#39;launchctl unload -w ~/Library/LaunchAgents/org.nginx.plist&#39;</span>
alias redis<span class="token operator">.</span>restart<span class="token operator">=</span><span class="token string">&#39;nginx.stop &amp;&amp; nginx.start&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>soucre ~/.bash_profile # \u6267\u884C\u4F7F\u751F\u6548</code></p><h2 id="plist-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#plist-\u547D\u4EE4" aria-hidden="true">#</a> plist \u547D\u4EE4</h2><p>Plist \u7684\u5168\u79F0\u662F Property lists\uFF0C\u662F\u4E00\u79CD\u7528\u6765\u5B58\u50A8\u4E32\u884C\u5316\u540E\u7684\u5BF9\u8C61\u7684\u6587\u4EF6\u3002</p><p>\u5C5E\u6027\u5217\u8868\u6587\u4EF6\u7684\u6587\u4EF6\u6269\u5C55\u540D\u4E3A .plist\uFF0C\u56E0\u6B64\u901A\u5E38\u88AB\u79F0\u4E3A plist \u6587\u4EF6\u3002</p><p>Plist\u6587\u4EF6\u901A\u5E38\u7528\u4E8E\u50A8\u5B58\u7528\u6237\u8BBE\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u5B58\u50A8\u6346\u7ED1\u7684\u4FE1\u606F\u3002</p><p>plist \u547D\u4EE4\uFF1A</p><p>launchctl load # \u52A0\u8F7D</p><p>launchctl unload # \u53D6\u6D88</p><p>launchctl list # \u67E5\u770B launchctl \u52A0\u8F7D\u7684\u670D\u52A1</p><p>-w # \u7ACB\u5373\u542F\u52A8\u4FEE\u6539</p>`,38),l=[o];function e(c,i){return s(),a("div",null,l)}var r=n(p,[["render",e],["__file","maclist.html.vue"]]);export{r as default};
